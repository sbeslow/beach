<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

<div id="graphContainer" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>

<script>
	beachNames = [];
	
</script>

<script>

var chart = new Highcharts.Chart({
        chart: {
            type: 'bar',
            renderTo: 'graphContainer',
        },
        title: {
            text: 'Stacked bar chart'
        },
        xAxis: {
            categories: [1,2,3]
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Total fruit consumption'
            }
        },
        legend: {
            reversed: true
        },
        plotOptions: {
            series: {
                stacking: 'normal'
            }
        },
        series: [{
            name: 'John',
            data: [5, 3, 4, 7, 2]
        }, {
            name: 'Jane',
            data: [2, 2, 3, 2, 1]
        }, {
            name: 'Joe',
            data: [3, 4, 4, 2, 5]
        }]
    });

$.get( "/scoreboard/beaches", function( data ) {
	alert(data);
	beachNames = [];
    var arr = data.split(',');

    for(var i = 0; i<arr.length; i++){
    	beachNames.push(arr[i]);
    }
    
	chart.xAxis[0].setCategories(beachNames);

});

</script>